%% language
\usepackage[ngerman,english]{babel}

%% characterset
\usepackage[utf8]{inputenc}
%\usepackage{cmap}
\usepackage{lmodern,soul}
%\usepackage[scaled=.9]{beramono}
\usepackage{zi4}
\usepackage[T1]{fontenc}
\usepackage{textcomp} 
\usepackage[sc,osf]{mathpazo}
\usepackage[super]{nth}

%% bibliography
\usepackage[
	backend=biber,
	style=alphabetic,
	maxnames=3,
	minnames=2,
	maxbibnames=99,
	natbib=true,
	doi=false
]{biblatex}
\bibliography{references}
\DeclareFieldFormat[article,inbook,incollection,inproceedings,patent,thesis,unpublished]{title}{#1}
%\usepackage[square,numbers,sort]{natbib}
%\bibliographystyle{alpha}

%% tables
\usepackage{rotating}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{tabulary}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{setspace}
\usepackage{array}
\renewcommand\tabcolsep{8pt}
\renewcommand\arraystretch{1.2}

%% floats
\usepackage{float,wrapfig}

%% colors
\usepackage[usenames,dvipsnames]{color}
\usepackage{colortbl}

%% bugfixes
\usepackage{mparhack}
\usepackage{fixltx2e}
\usepackage{xspace}

%% listings
\usepackage[final]{listings}
\usepackage{latexsym, verbatim}
\usepackage[hang,normalsize,bf]{caption}[2008/08/24]

%% lists
\usepackage{enumitem}

%% graphics
\usepackage{graphicx}
\usepackage[normalem]{ulem} % strike out
\usepackage{amssymb}
\usepackage[x11names,svgnames,table]{xcolor}   % latex and colors
\usepackage{tikz}     % pgf graphics
\usetikzlibrary{shapes,arrows,positioning,fit,shadows,patterns,matrix,chains,scopes,trees}
\usepackage[underline=true,rounded corners=false]{pgf-umlsd}
%\usepackage{subfig}
\usepackage[list=true]{subcaption}
\usepackage{epstopdf}

%% plots
\usepackage[miktex]{gnuplottex}
\usepackage{etoolbox}
% hack for -output-directory
\let\nodirfigname\figname
\def\figname{./build/\nodirfigname}
\expandafter\patchcmd\csname\string\gnuplot\endcsname
  {\figname}{\nodirfigname}{}{}

%% Graphviz
\newcommand{\digraph}[3][scale=1]{ 
  \newwrite\dotfile
  \immediate\openout\dotfile=#2.dot 
  \immediate\write\dotfile{digraph #2 {\string#3}} 
  \immediate\closeout\dotfile
  \immediate\write18{dot -Tpdf ../build/#2.dot > ../build/#2.pdf}
  \IfFileExists{#2.pdf}
  % the pdf exists: include it 
  { \includegraphics[#1]{../build/#2} } 
  % the pdf was not created - show a hint
  {   
    \PackageError{Graphviz}{Nope}{The PDF file displaying your dot graph could not be created.}
  } 
}

%% hyperlinks & pdf
\usepackage{url}
\usepackage{pdfpages}
\pdfcompresslevel=6
\usepackage[
%pagebackref=true,
colorlinks=true,
urlcolor=black,
linkcolor=black,
citecolor=black,
unicode,
bookmarks=true,
final
]{hyperref}

%% acronyms
\usepackage[
acronym,
style=alttree,
shortcuts,
nomain,
nonumberlist,
nopostdot
]{glossaries}
\glssetwidest{JDPAJJJ}% widest name

%% quotes
\usepackage[style=american,threshold=1]{csquotes}

%% footnotes
\usepackage[hang,flushmargin,bottom]{footmisc} 
\usepackage{chngcntr}
\counterwithout{footnote}{chapter}

%% development
\usepackage{todonotes}
%\usepackage{ifdraft}
%\ifdraft{%
%  \usepackage{blindtext}
%  \usepackage{showframe}
%  \usepackage{draftwatermark}
%  \SetWatermarkLightness{0.95}
%  \SetWatermarkText{\textsc{Draft}}
%  \usepackage[show]{ed}
%}{
%  \usepackage[hide]{ed}
%}

%% meta
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead[LE,RO]{\slshape \rightmark}
\fancyhead[LO,RE]{\slshape \leftmark}
\addtolength{\headwidth}{\marginparsep}
\addtolength{\headwidth}{\marginparwidth}
\usepackage[bottom=3.5cm]{geometry}
\setlength{\headheight}{13.6pt}